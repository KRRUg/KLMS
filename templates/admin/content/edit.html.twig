{% extends 'admin/adminBase.html.twig' %}

{% block title %}KLMS - Admin{% endblock %}
{% block siteheading %}<i class="far fa-file-alt"></i> Content{% endblock %}
{% block main %}
    {% set data = form.vars.data %}

    {{ form_start(form) }}
    {% if not form.vars.valid %}
        <div class="alert alert-error">
            {{ form_errors(form) }}
        </div>
    {% endif %}

    <div class="row">
        <div class="col mb-4">
            <div class="card">
                <div class="card-body">
                    {{ form_row(form.title) }}
                    {{ form_row(form.description) }}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col mb-4">
            <div class="card">
                <div class="card-body">
                    {{ form_row(form.content, {'attr': {'class': 'wysiwyg'}}) }}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col mb-4">
            {% include 'admin/components/lastModified.html.twig' with { 'data': data } %}
        </div>
    </div>
    <hr>
    {{ form_rest(form) }}
    <div class="float-left">
        {% if data is not empty %}
            <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#confirmDelete"><i class="fas fa-trash-alt"></i> LÃ¶schen</button>
        {% endif %}
    </div>
    <div class="float-right">
        <a class="btn btn-secondary" href="{{ path('admin_content') }}">Abbrechen</a>
        <button type="submit" id="news_save" class="btn-primary btn">Speichern</button>
    </div>
    {{ form_end(form) }}

    {% if data is not empty %}
        {% include 'admin/components/modals/confirm.html.twig' with { 'modal_name': 'confirmDelete', 'path' : path('admin_content_delete', {'id' : data.id}) } only %}
    {% endif %}

{% endblock %}
